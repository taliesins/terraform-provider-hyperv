---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "hyperv_network_switch Resource - terraform-provider-hyperv"
subcategory: ""
description: |-
  This Hyper-V resource allows you to manage virtual network switches.
---

# hyperv_network_switch (Resource)

This Hyper-V resource allows you to manage virtual network switches.

## Example Usage

```terraform
terraform {
  required_providers {
    hyperv = {
      source  = "taliesins/hyperv"
      version = ">= 1.0.3"
    }
  }
}

provider "hyperv" {
}

resource "hyperv_network_switch" "default" {
  name                                    = "DMZ"
  notes                                   = ""
  allow_management_os                     = true
  enable_embedded_teaming                 = false
  enable_iov                              = false
  enable_packet_direct                    = false
  minimum_bandwidth_mode                  = "None"
  switch_type                             = "Internal"
  net_adapter_names                       = []
  default_flow_minimum_bandwidth_absolute = 0
  default_flow_minimum_bandwidth_weight   = 0
  default_queue_vmmq_enabled              = false
  default_queue_vmmq_queue_pairs          = 16
  default_queue_vrss_enabled              = false
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Specifies the name of the switch to be created.

### Optional

- `allow_management_os` (Boolean) Specifies if the HyperV host machine will have access to network switch when created. It provides this access via a virtual adaptor, so you will need to either configure static ips on the virtual adaptor or configure a dhcp on a machine connected to the network switch. This is tied to the switch type used: `internal=true`;`private=false`;`external=true or false`.
- `default_flow_minimum_bandwidth_absolute` (Number) Specifies the minimum bandwidth, in bits per second, that is allocated to a special category called `default flow`. Any traffic sent by a virtual network adapter that is connected to this virtual switch and does not have minimum bandwidth allocated is filtered into this category. Specify a value for this parameter only if the minimum bandwidth mode on this virtual switch is absolute. By default, the virtual switch allocates 10% of the total bandwidth, which depends on the physical network adapter it binds to, to this category. For example, if a virtual switch binds to a 1 GbE network adapter, this special category can use at least 100 Mbps. If the value is not a multiple of 8, the value is rounded down to the nearest number that is a multiple of 8. For example, a value input as 1234567 is converted to 1234560.
- `default_flow_minimum_bandwidth_weight` (Number) Should be a value of `0` or between `1` to `100`. Specifies the minimum bandwidth, in relative weight, that is allocated to a special category called `default flow`. Any traffic sent by a virtual network adapter that is connected to this virtual switch and does not have minimum bandwidth allocated is filtered into this category. Specify a value for this parameter only if the minimum bandwidth mode on this virtual switch is weight. By default, this special category has a weight of 1.
- `default_queue_vmmq_enabled` (Boolean) Should Virtual Machine Multi-Queue be enabled. With set to true multiple queues are allocated to a single VM with each queue affinitized to a core in the VM.
- `default_queue_vmmq_queue_pairs` (Number) The number of Virtual Machine Multi-Queues to create for this VM.
- `default_queue_vrss_enabled` (Boolean) Should Virtual Receive Side Scaling be enabled. This configuration allows the load from a virtual network adapter to be distributed across multiple virtual processors in a virtual machine (VM), allowing the VM to process more network traffic more rapidly than it can with a single logical processor.
- `enable_embedded_teaming` (Boolean) Specifies if the HyperV host machine will enable teaming for network switch when created. It allows NIC teaming so that you could support scenarios such as redundant links.
- `enable_iov` (Boolean) Specifies if the HyperV host machine will enable IO virtualization for network switch when created. If your hardware supports it, it enables the virtual machine to talk directly to the NIC.
- `enable_packet_direct` (Boolean) Specifies if the HyperV host machine will enable packet direct path for network switch when created. Increases packet throughoutput and reduces the network latency between vms on the switch.
- `minimum_bandwidth_mode` (String) Specifies how minimum bandwidth is to be configured on the virtual switch. If `Absolute` is specified, minimum bandwidth is bits per second. If `Weight` is specified, minimum bandwidth is a value ranging from `1` to `100`. If `None` is specified, minimum bandwidth is disabled on the switch â€“ that is, users cannot configure it on any network adapter connected to the switch. If `Default` is specified, the system will set the mode to Weight, if the switch is not IOV-enabled, or `None` if the switch is IOV-enabled. Valid values to use are `Absolute`, `Default`, `None`, `Weight`.
- `net_adapter_names` (List of String) Specifies the name of the network adapter to be bound to the switch to be created.
- `notes` (String) Specifies a note to be associated with the switch to be created.
- `switch_type` (String) Specifies the type of the switch to be created. Valid values to use are `Internal`, `Private` and `External`.
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- `vlan_access_id` (Number) The VLAN identifier used for all network communications through this network adapter. This setting does not affect virtual machine networking
- `vlan_operation_mode` (String) Operation Mode for the management operating system. Valid values are [Untagged, Isolated, Community, Promiscuous]. Only Untagged and Isolated are currently supported

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `read` (String)
- `update` (String)
